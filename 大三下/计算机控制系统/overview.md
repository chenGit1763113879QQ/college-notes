# 计算机控制系统

## 第一章 计算机控制导论

### 计算机控制系统的组成

1. 被控对象
2. 执行机构
3. 测量装置
4. 指令给定装置
5. 计算机系统
   1. AD 转换器
   2. 数字计算机，包括硬件与软件
   3. DA 转换器

### 计算机控制过程

1. 实时数据采集
2. 实时决策
3. 实时控制

### 计算机控制系统的优点

1. 易实现复杂的控制规律
2. 计算机控制系统的性价比高
3. 适应性强灵活性高
4. 系统测量的灵敏度高
5. 控制与管理容易结合并实现层次更高的自动化
6. 系统可靠性和容错能力高

### 计算机控制系统的分类

1. 直接数字控制(direct digital control, DDC)系统
2. 计算机监督控制(supervise control by computer, SCC)系统
3. 分散型计算机控制(distributed control system, DCS)系统

### 计算机控制系统的两种设计方法

1. 连续域设计-离散化方法
2. 直接数字域(离散域)设计

## 第二章 控制系统信号分析

### 2.1 控制系统信号的分类

- 时间上分
  - 连续时间信号
  - 离散时间信号
- 幅值上分
  - 模拟信号
  - 离散信号
  - 数字信号

#### A/D 变换和 D/A 变换

- AD 变换
  1. 采样：采样保持器 S/H
  2. 量化
  3. 编码
- DA 变换
  1. 解码器：把数字量转换为幅值等于该数字量的模拟脉冲信号
  2. 信号恢复器：将解码后的模拟脉冲信号变为随时间连续变化的信号，如 zoh

### 2.2 理想采样过程的数学描述及特性分析

为保证采样信号的频谱是被采样信号的频谱无重叠的重复（沿频率轴方向），以便采样信号能反映被采样信号的变化规律，采样频率至少应是原信号 的频谱的最高频率的两倍
$$
f^*(t)=f(t)\delta _T
=f(t)\sum\limits_{k=-\infty}^{\infty}\delta(t-kT)
=\sum\limits_{k=-\infty}^{\infty}f(t)\delta(t-kT)
$$

#### 2.2.3 理想采样信号的复域描述

[拉普拉斯变换](https://zhuanlan.zhihu.com/p/152647974)，其中$\omega_s=\frac{2\pi}{T}$

若已知时域表达式

$$
F^*(s)=\mathscr{L}[f^*(t)]
=\int_0^\infty f^*(\tau)e^{-s\tau}\mathrm{d}\tau
=\sum\limits_{k=-\infty}^\infty f(kT)e^{-kTs}\\
=\sum\limits_{k=0}^\infty f(kT)e^{-kTs}
=\sum \limits _{k=0}^\infty f(kT) e^{-ksT}
$$

若已知拉氏变换式

$$
F^*(s)=\frac{1}{T}\sum_{n=-\infty}^{\infty}F(s+jn\omega_s)\\
F_p^*(s)=\frac{1-e^{-ps}}{s}F^*(s)\approx p F^*(s)
$$

$F^*(s)$的特性

1. 是周期值为$j\omega_s$**周期函数**$F^*(s+jm\omega_s)=F^*(s)$
2. 假设$F(s)$在$s=s_1$处有一极点，那么$F^*(s)$必然在$s=s_1+jm\omega_s$处具有极点，$m=\pm 1, \pm 2,\pm 3$
3. 采样信号的拉氏变换与连续信号的拉氏变换的乘积再离散化，则前者可从离散符号中提取出来$Y^*(s)=[E^*(s) G(s)]^*=E^*(s) G^*(s)$

#### 2.2.4 理想采样信号的频域描述

1. 频谱
2. 频谱混叠
   1. 信号的高频分量折叠为低频分量
   2. 隐匿振荡(Hidden oscillation)
3. 采样器的静态增益，sk=1/T(不产生混叠时)



#### 2.2.5 采样定理

#### 2.2.6 前置滤波器

当信号混杂有高频干扰时，可以根据高频干扰选取采样周期，但是会使得采样频率过高。第二种方法是在采样开关之前加入**前置滤波器**：作用：

- 滤除高于$\frac{\omega_s}{2}$的频谱分量，消除和减弱混叠
- 滤除高频干扰

### 2.3 信号的恢复与重构

#### 理想恢复过程

![理想恢复过程](https://tse1-mm.cn.bing.net/th/id/OIP.mIFoZ5PiQNmuYOjEzZ8p7gAAAA?pid=ImgDet&rs=1)

#### 非理想恢复过程

#### 零阶保持器后置滤波

为了减轻或消除高频噪声的影响，应在零阶保持器后面串入一个模拟式低通滤波器，称为**后置滤波器**，进一步将高频分量滤除，时域上看相当于将输出响应的阶梯展平。

### 2.4 信号整量化

## 第三章 计算机控制系统的数学描述

### 3.1 离散系统的时域描述——差分方程

- 一阶向前差分$\Delta f(k)=f(k+1)-f(k)$
- 二阶向前差分$\Delta ^2 f(k) =\Delta f(k+1) -\Delta f(k) =f(k+2)-2f(k+1)+f(k)$

#### 差分方程的迭代求解

### 3.2$z$变换

#### 3.2.1 z 变换的定义

$$
z=e^{sT}\\
s=\frac{1}{T}lnz\\
F(z)=\sum\limits_{k=0}^{\infty}f(kT)z^{-k}
$$

#### 3.2.2 z 变换的基本定理

1. 线性定理
2. 时域位移定理$\mathscr{Z}[f(t \mp nT)]=z^{\mp n}F(z)$
3. 复域位移定理
4. 初值定理$f(0)=\lim\limits_{z\rightarrow\infty}F(z)$
5. 终值定理$f(\infty)=\lim\limits_{z\rightarrow1}(1-z^{-1})F(z)=\lim\limits_{z\rightarrow1}(z-1)F(z)$

#### 求 z 变换的方法

1. 级数求和法
2. F(s)的 z 变换，先做拉式反变换求时域信号，采样后再进行 z 变换
3. 留数计算法（本书不讨论）

当传递函数中又 ZOH 时,P70,传递函数中的$1-e^{-Ts}$可以直接替换为$1-z^{-1}$

### 3.3 脉冲传递函数

#### 3.3.2 脉冲传递函数特性

1. G(z) 极点与 G(s)一一映射
2. G(z) 零点是采样周期的复杂函数

#### 3.3.3 差分方程与脉冲传递函数

### 3.4 离散系统的方块图分析

### 3.5 离散系统的频域描述

离散系统的频率特性具有周期性

$$
G(s) \rightarrow G(j\omega) \\
G(z) \rightarrow G(e^{j\omega T})
$$

### 3.6 离散系统的状态空间描述

## 第四章 计算机控制系统分析

### 4.1 s 平面与 z 平面之间的映射

### 4.2 稳定性分析

1. 直接求取特征方程根
2. 朱利代数稳定判据
3. w 变换

#### 4.2.3 采样周期与稳定性

- 离散系统稳定性比连续系统差
- 采样周期 T 是影响稳定性的重要参数，一般来说，T 越小，稳定性越强

### 4.3 稳态误差分析

#### 4.3.3 采样周期与稳态误差的影响

稳态误差与采样周期无关

## 第五章 计算机控制系统的经典设计方法

1. **连续域——离散化**设计
2. 在离散域先建立被控对象的离散模型，然后直接在离散域进行控制器设计
   1. 最小拍
   2. 大林
   3. z 域根轨迹设计
   4. 频率域(w'域)设计

### 5.1 连续域——离散化设计

若系统的采样频率相对于系统的**工作频率是足够高**的，以至于采样保持器所引起的**附加滞后影响可忽略**时，系统的数字控制器可用模拟控制器代替，使整个系统成为模拟系统，从而可用模拟化方法进行设计。

#### 5.1.2 各种离散化方法

##### 一阶向后差分法

$$
D(z)=D(s)|_{s=\frac{1-z^-1}{T}}
$$

1. 简单易行，要求不高
2. 畸变严重，变换精度较低
3. 在周期较小的场合有一定应用

![一阶向后差分法](../../pics/2021-06-23-23-20-52.png)

##### 一阶向前差分法

由于这种变换的映射关系畸变严重，不能保证D(z)一定稳定，或者如要保证稳定，要求采样周期较小，所以应用较少
$$
D(z)=D(s)|_{s=\frac{z-1}{T}}
$$

![一阶向前差分法](../../pics/2021-06-23-23-24-08.png)

##### 双线性变换 Tustin 突斯汀

$$
D(z)=D(s)|_{s=\frac{2}{T}\frac{z-1}{z+1}}
$$

- 频率畸变：双线性变换的一对一映射，保证了离散频率特性不产生频率混叠现象，但产生了频率畸变。 
- 双线性变换后D(z)的阶次不变，且分子、分母具有相同的阶次。并有下式成立： 

$$
D(e^{j\omega T})|_{\omega=\frac{\omega_s}{2}}=0
$$



1. 使用方便，具有一定的精度,应用较为普遍。
2. 高频特性失真严重，主要用于低通环节的离散化,不宜用于高通环节的离散化。
  ![双线性变换 Tustin 突斯汀](../../pics/2021-06-23-23-25-24.png)

##### 修正双线性变换

$$
D(z)=D(s)|_{s=
  \frac{\omega_1}{\tan(\frac{\omega_1 T}{2})}
  \frac{z-1}{z+1}
}
$$

$$
D(e^{j\omega_1T})=D(j\omega_1)
$$

由于该方法的上述特性，所以主要用于原连续控制器在某些特征频率处要求离散后频率特性保持不变的场合

##### 零极点匹配法

$$
D(s)=\frac{k\prod\limits_m(s+z_i)}{\prod\limits_n(s+p_i)}
\\
\Rightarrow
D(z)=\frac
{k_1\prod\limits_m(z-e^{-z_iT})}{\prod\limits_n(z-e^{-p_i T})}(z+1)^{n-m}
$$



#### # 其他方法

1. z 变换法，脉冲响应不变法
$$
 D(z)=\mathscr{Z}[D(s)]
$$
2. 带保持器的 z 变换
$$
 D(z)=\mathscr{Z}[\frac{1-e^{-Ts}}{s}D(s)]=(1-z^{-1})\mathscr{Z}(\frac{D(s)}{s})
$$
3. 一阶保持器 z 变换法（斜坡响应不变法）

输入缓冲器对外部输入信号进行缓冲、加强和选通。输出锁存器将CPU输出的数据或控制信号进行锁存，以便放大驱动执行机构作用于被控对象。



